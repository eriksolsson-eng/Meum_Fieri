var Jr=Object.defineProperty;var Kn=e=>{throw TypeError(e)};var ei=(e,t,n)=>t in e?Jr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ee=(e,t,n)=>ei(e,typeof t!="symbol"?t+"":t,n),yn=(e,t,n)=>t.has(e)||Kn("Cannot "+n);var u=(e,t,n)=>(yn(e,t,"read from private field"),n?n.call(e):t.get(e)),k=(e,t,n)=>t.has(e)?Kn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),w=(e,t,n,r)=>(yn(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),D=(e,t,n)=>(yn(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const kn=!1;var cr=Array.isArray,ti=Array.prototype.indexOf,fn=Array.from,ni=Object.defineProperty,Mt=Object.getOwnPropertyDescriptor,dr=Object.getOwnPropertyDescriptors,ri=Object.prototype,ii=Array.prototype,Bn=Object.getPrototypeOf,Gn=Object.isExtensible;function si(e){return e()}function An(e){for(var t=0;t<e.length;t++)e[t]()}function vr(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const z=2,Un=4,un=8,li=1<<24,Fe=16,Ne=32,ft=64,cn=128,we=512,Y=1024,re=2048,Ie=4096,ae=8192,Ve=16384,Wn=32768,bt=65536,Qn=1<<17,hr=1<<18,At=1<<19,pr=1<<20,ze=1<<25,lt=32768,Cn=1<<21,$n=1<<22,Ye=1<<23,_t=Symbol("$state"),pt=new class extends Error{constructor(){super(...arguments);Ee(this,"name","StaleReactionError");Ee(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function ai(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function oi(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function fi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ui(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ci(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function di(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function vi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function hi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function pi(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const _i=1,gi=2,yi=16,mi=1,wi=2,V=Symbol(),bi="http://www.w3.org/1999/xhtml";function Ei(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function _r(e){return e===this.v}function xi(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function gr(e){return!xi(e,this.v)}let dn=!1,ki=!1;function Ai(){dn=!0}let q=null;function Et(e){q=e}function ut(e,t=!1,n){q={p:q,i:!1,c:null,e:null,s:e,x:null,l:dn&&!t?{s:null,u:null,$:[]}:null}}function ct(e){var t=q,n=t.e;if(n!==null){t.e=null;for(var r of n)Pr(r)}return t.i=!0,q=t.p,{}}function jt(){return!dn||q!==null&&q.l===null}let Ke=[];function yr(){var e=Ke;Ke=[],An(e)}function zt(e){if(Ke.length===0&&!Dt){var t=Ke;queueMicrotask(()=>{t===Ke&&yr()})}Ke.push(e)}function Ci(){for(;Ke.length>0;)yr()}function mr(e){var t=C;if(t===null)return x.f|=Ye,e;if((t.f&Wn)===0){if((t.f&cn)===0)throw e;t.b.error(e)}else xt(e,t)}function xt(e,t){for(;t!==null;){if((t.f&cn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const Ht=new Set;let E=null,Kt=null,P=null,he=[],vn=null,Sn=!1,Dt=!1;var gt,yt,Qe,Ze,Ut,mt,wt,j,Tn,Tt,Rn,wr,br;const ln=class ln{constructor(){k(this,j);Ee(this,"committed",!1);Ee(this,"current",new Map);Ee(this,"previous",new Map);k(this,gt,new Set);k(this,yt,new Set);k(this,Qe,0);k(this,Ze,0);k(this,Ut,null);k(this,mt,new Set);k(this,wt,new Set);Ee(this,"skipped_effects",new Set);Ee(this,"is_fork",!1)}is_deferred(){return this.is_fork||u(this,Ze)>0}process(t){var r;he=[],Kt=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[]};for(const i of t)D(this,j,Tn).call(this,i,n);this.is_fork||D(this,j,wr).call(this),this.is_deferred()?(D(this,j,Tt).call(this,n.effects),D(this,j,Tt).call(this,n.render_effects)):(Kt=this,E=null,Zn(n.render_effects),Zn(n.effects),Kt=null,(r=u(this,Ut))==null||r.resolve()),P=null}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&Ye)===0&&(this.current.set(t,t.v),P==null||P.set(t,t.v))}activate(){E=this,this.apply()}deactivate(){E===this&&(E=null,P=null)}flush(){if(this.activate(),he.length>0){if(Er(),E!==null&&E!==this)return}else u(this,Qe)===0&&this.process([]);this.deactivate()}discard(){for(const t of u(this,yt))t(this);u(this,yt).clear()}increment(t){w(this,Qe,u(this,Qe)+1),t&&w(this,Ze,u(this,Ze)+1)}decrement(t){w(this,Qe,u(this,Qe)-1),t&&w(this,Ze,u(this,Ze)-1),this.revive()}revive(){for(const t of u(this,mt))u(this,wt).delete(t),H(t,re),at(t);for(const t of u(this,wt))H(t,Ie),at(t);this.flush()}oncommit(t){u(this,gt).add(t)}ondiscard(t){u(this,yt).add(t)}settled(){return(u(this,Ut)??w(this,Ut,vr())).promise}static ensure(){if(E===null){const t=E=new ln;Ht.add(E),Dt||ln.enqueue(()=>{E===t&&t.flush()})}return E}static enqueue(t){zt(t)}apply(){}};gt=new WeakMap,yt=new WeakMap,Qe=new WeakMap,Ze=new WeakMap,Ut=new WeakMap,mt=new WeakMap,wt=new WeakMap,j=new WeakSet,Tn=function(t,n){var c;t.f^=Y;for(var r=t.first;r!==null;){var i=r.f,s=(i&(Ne|ft))!==0,l=s&&(i&Y)!==0,a=l||(i&ae)!==0||this.skipped_effects.has(r);if((r.f&cn)!==0&&((c=r.b)!=null&&c.is_pending())&&(n={parent:n,effect:r,effects:[],render_effects:[]}),!a&&r.fn!==null){s?r.f^=Y:(i&Un)!==0?n.effects.push(r):Yt(r)&&((r.f&Fe)!==0&&u(this,mt).add(r),Bt(r));var o=r.first;if(o!==null){r=o;continue}}var f=r.parent;for(r=r.next;r===null&&f!==null;)f===n.effect&&(D(this,j,Tt).call(this,n.effects),D(this,j,Tt).call(this,n.render_effects),n=n.parent),r=f.next,f=f.parent}},Tt=function(t){for(const n of t)(n.f&re)!==0?u(this,mt).add(n):(n.f&Ie)!==0&&u(this,wt).add(n),D(this,j,Rn).call(this,n.deps),H(n,Y)},Rn=function(t){if(t!==null)for(const n of t)(n.f&z)===0||(n.f&lt)===0||(n.f^=lt,D(this,j,Rn).call(this,n.deps))},wr=function(){if(u(this,Ze)===0){for(const t of u(this,gt))t();u(this,gt).clear()}u(this,Qe)===0&&D(this,j,br).call(this)},br=function(){var s;if(Ht.size>1){this.previous.clear();var t=P,n=!0,r={parent:null,effect:null,effects:[],render_effects:[]};for(const l of Ht){if(l===this){n=!1;continue}const a=[];for(const[f,c]of this.current){if(l.current.has(f))if(n&&c!==l.current.get(f))l.current.set(f,c);else continue;a.push(f)}if(a.length===0)continue;const o=[...l.current.keys()].filter(f=>!this.current.has(f));if(o.length>0){var i=he;he=[];const f=new Set,c=new Map;for(const d of a)xr(d,o,f,c);if(he.length>0){E=l,l.apply();for(const d of he)D(s=l,j,Tn).call(s,d,r);l.deactivate()}he=i}}E=null,P=t}this.committed=!0,Ht.delete(this)};let Pe=ln;function Si(e){var t=Dt;Dt=!0;try{for(var n;;){if(Ci(),he.length===0&&(E==null||E.flush(),he.length===0))return vn=null,n;Er()}}finally{Dt=t}}function Er(){var e=it;Sn=!0;var t=null;try{var n=0;for(rn(!0);he.length>0;){var r=Pe.ensure();if(n++>1e3){var i,s;Ti()}r.process(he),He.clear()}}finally{Sn=!1,rn(e),vn=null}}function Ti(){try{ci()}catch(e){xt(e,vn)}}let ge=null;function Zn(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Ve|ae))===0&&Yt(r)&&(ge=new Set,Bt(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?qr(r):r.fn=null),(ge==null?void 0:ge.size)>0)){He.clear();for(const i of ge){if((i.f&(Ve|ae))!==0)continue;const s=[i];let l=i.parent;for(;l!==null;)ge.has(l)&&(ge.delete(l),s.push(l)),l=l.parent;for(let a=s.length-1;a>=0;a--){const o=s[a];(o.f&(Ve|ae))===0&&Bt(o)}}ge.clear()}}ge=null}}function xr(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const s=i.f;(s&z)!==0?xr(i,t,n,r):(s&($n|Fe))!==0&&(s&re)===0&&kr(i,t,r)&&(H(i,re),at(i))}}function kr(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(t.includes(i))return!0;if((i.f&z)!==0&&kr(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function at(e){for(var t=vn=e;t.parent!==null;){t=t.parent;var n=t.f;if(Sn&&t===C&&(n&Fe)!==0&&(n&hr)===0)return;if((n&(ft|Ne))!==0){if((n&Y)===0)return;t.f^=Y}}he.push(t)}function Ri(e){let t=0,n=Xe(0),r;return()=>{Nt()&&(_(n),Vn(()=>(t===0&&(r=_n(()=>e(()=>Lt(n)))),t+=1,()=>{zt(()=>{t-=1,t===0&&(r==null||r(),r=void 0,Lt(n))})})))}}var Ii=bt|At|cn;function Oi(e,t,n){new Mi(e,t,n)}var ce,de,qn,xe,Je,ke,ve,ee,Ae,De,We,et,$e,tt,je,an,B,Di,Li,In,Gt,Qt,On;class Mi{constructor(t,n,r){k(this,B);Ee(this,"parent");k(this,ce,!1);k(this,de);k(this,qn,null);k(this,xe);k(this,Je);k(this,ke);k(this,ve,null);k(this,ee,null);k(this,Ae,null);k(this,De,null);k(this,We,null);k(this,et,0);k(this,$e,0);k(this,tt,!1);k(this,je,null);k(this,an,Ri(()=>(w(this,je,Xe(u(this,et))),()=>{w(this,je,null)})));w(this,de,t),w(this,xe,n),w(this,Je,r),this.parent=C.b,w(this,ce,!!u(this,xe).pending),w(this,ke,Yn(()=>{C.b=this;{var i=D(this,B,In).call(this);try{w(this,ve,pe(()=>r(i)))}catch(s){this.error(s)}u(this,$e)>0?D(this,B,Qt).call(this):w(this,ce,!1)}return()=>{var s;(s=u(this,We))==null||s.remove()}},Ii))}is_pending(){return u(this,ce)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!u(this,xe).pending}update_pending_count(t){D(this,B,On).call(this,t),w(this,et,u(this,et)+t),u(this,je)&&kt(u(this,je),u(this,et))}get_effect_pending(){return u(this,an).call(this),_(u(this,je))}error(t){var n=u(this,xe).onerror;let r=u(this,xe).failed;if(u(this,tt)||!n&&!r)throw t;u(this,ve)&&(ne(u(this,ve)),w(this,ve,null)),u(this,ee)&&(ne(u(this,ee)),w(this,ee,null)),u(this,Ae)&&(ne(u(this,Ae)),w(this,Ae,null));var i=!1,s=!1;const l=()=>{if(i){Ei();return}i=!0,s&&pi(),Pe.ensure(),w(this,et,0),u(this,Ae)!==null&&rt(u(this,Ae),()=>{w(this,Ae,null)}),w(this,ce,this.has_pending_snippet()),w(this,ve,D(this,B,Gt).call(this,()=>(w(this,tt,!1),pe(()=>u(this,Je).call(this,u(this,de)))))),u(this,$e)>0?D(this,B,Qt).call(this):w(this,ce,!1)};var a=x;try{te(null),s=!0,n==null||n(t,l),s=!1}catch(o){xt(o,u(this,ke)&&u(this,ke).parent)}finally{te(a)}r&&zt(()=>{w(this,Ae,D(this,B,Gt).call(this,()=>{Pe.ensure(),w(this,tt,!0);try{return pe(()=>{r(u(this,de),()=>t,()=>l)})}catch(o){return xt(o,u(this,ke).parent),null}finally{w(this,tt,!1)}}))})}}ce=new WeakMap,de=new WeakMap,qn=new WeakMap,xe=new WeakMap,Je=new WeakMap,ke=new WeakMap,ve=new WeakMap,ee=new WeakMap,Ae=new WeakMap,De=new WeakMap,We=new WeakMap,et=new WeakMap,$e=new WeakMap,tt=new WeakMap,je=new WeakMap,an=new WeakMap,B=new WeakSet,Di=function(){try{w(this,ve,pe(()=>u(this,Je).call(this,u(this,de))))}catch(t){this.error(t)}w(this,ce,!1)},Li=function(){const t=u(this,xe).pending;t&&(w(this,ee,pe(()=>t(u(this,de)))),Pe.enqueue(()=>{var n=D(this,B,In).call(this);w(this,ve,D(this,B,Gt).call(this,()=>(Pe.ensure(),pe(()=>u(this,Je).call(this,n))))),u(this,$e)>0?D(this,B,Qt).call(this):(rt(u(this,ee),()=>{w(this,ee,null)}),w(this,ce,!1))}))},In=function(){var t=u(this,de);return u(this,ce)&&(w(this,We,ot()),u(this,de).before(u(this,We)),t=u(this,We)),t},Gt=function(t){var n=C,r=x,i=q;Oe(u(this,ke)),te(u(this,ke)),Et(u(this,ke).ctx);try{return t()}catch(s){return mr(s),null}finally{Oe(n),te(r),Et(i)}},Qt=function(){const t=u(this,xe).pending;u(this,ve)!==null&&(w(this,De,document.createDocumentFragment()),u(this,De).append(u(this,We)),Wr(u(this,ve),u(this,De))),u(this,ee)===null&&w(this,ee,pe(()=>t(u(this,de))))},On=function(t){var n;if(!this.has_pending_snippet()){this.parent&&D(n=this.parent,B,On).call(n,t);return}w(this,$e,u(this,$e)+t),u(this,$e)===0&&(w(this,ce,!1),u(this,ee)&&rt(u(this,ee),()=>{w(this,ee,null)}),u(this,De)&&(u(this,de).before(u(this,De)),w(this,De,null)))};function Pi(e,t,n,r){const i=jt()?hn:jn;if(n.length===0&&e.length===0){r(t.map(i));return}var s=E,l=C,a=Fi();function o(){Promise.all(n.map(f=>Ni(f))).then(f=>{a();try{r([...t.map(i),...f])}catch(c){(l.f&Ve)===0&&xt(c,l)}s==null||s.deactivate(),tn()}).catch(f=>{xt(f,l)})}e.length>0?Promise.all(e).then(()=>{a();try{return o()}finally{s==null||s.deactivate(),tn()}}):o()}function Fi(){var e=C,t=x,n=q,r=E;return function(s=!0){Oe(e),te(t),Et(n),s&&(r==null||r.activate())}}function tn(){Oe(null),te(null),Et(null)}function hn(e){var t=z|re,n=x!==null&&(x.f&z)!==0?x:null;return C!==null&&(C.f|=At),{ctx:q,deps:null,effects:null,equals:_r,f:t,fn:e,reactions:null,rv:0,v:V,wv:0,parent:n??C,ac:null}}function Ni(e,t){let n=C;n===null&&ai();var r=n.b,i=void 0,s=Xe(V),l=!x,a=new Map;return Ki(()=>{var h;var o=vr();i=o.promise;try{Promise.resolve(e()).then(o.resolve,o.reject).then(()=>{f===E&&f.committed&&f.deactivate(),tn()})}catch(p){o.reject(p),tn()}var f=E;if(l){var c=!r.is_pending();r.update_pending_count(1),f.increment(c),(h=a.get(f))==null||h.reject(pt),a.delete(f),a.set(f,o)}const d=(p,v=void 0)=>{if(f.activate(),v)v!==pt&&(s.f|=Ye,kt(s,v));else{(s.f&Ye)!==0&&(s.f^=Ye),kt(s,p);for(const[g,I]of a){if(a.delete(g),g===f)break;I.reject(pt)}}l&&(r.update_pending_count(-1),f.decrement(c))};o.promise.then(d,p=>d(null,p||"unknown"))}),Lr(()=>{for(const o of a.values())o.reject(pt)}),new Promise(o=>{function f(c){function d(){c===i?o(s):f(i)}c.then(d,d)}f(i)})}function ht(e){const t=hn(e);return $r(t),t}function jn(e){const t=hn(e);return t.equals=gr,t}function Ar(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ne(t[n])}}function qi(e){for(var t=e.parent;t!==null;){if((t.f&z)===0)return(t.f&Ve)===0?t:null;t=t.parent}return null}function zn(e){var t,n=C;Oe(qi(e));try{e.f&=~lt,Ar(e),t=Yr(e)}finally{Oe(n)}return t}function Cr(e){var t=zn(e);if(e.equals(t)||(E!=null&&E.is_fork||(e.v=t),e.wv=zr()),!Ct)if(P!==null)(Nt()||E!=null&&E.is_fork)&&P.set(e,t);else{var n=(e.f&we)===0?Ie:Y;H(e,n)}}let Mn=new Set;const He=new Map;let Sr=!1;function Xe(e,t){var n={f:0,v:e,reactions:null,equals:_r,rv:0,wv:0};return n}function N(e,t){const n=Xe(e);return $r(n),n}function Bi(e,t=!1,n=!0){var i;const r=Xe(e);return t||(r.equals=gr),dn&&n&&q!==null&&q.l!==null&&((i=q.l).s??(i.s=[])).push(r),r}function T(e,t,n=!1){x!==null&&(!Re||(x.f&Qn)!==0)&&jt()&&(x.f&(z|Fe|$n|Qn))!==0&&!(Q!=null&&Q.includes(e))&&hi();let r=n?Te(t):t;return kt(e,r)}function kt(e,t){if(!e.equals(t)){var n=e.v;Ct?He.set(e,t):He.set(e,n),e.v=t;var r=Pe.ensure();r.capture(e,n),(e.f&z)!==0&&((e.f&re)!==0&&zn(e),H(e,(e.f&we)!==0?Y:Ie)),e.wv=zr(),Tr(e,re),jt()&&C!==null&&(C.f&Y)!==0&&(C.f&(Ne|ft))===0&&(ue===null?Zi([e]):ue.push(e)),!r.is_fork&&Mn.size>0&&!Sr&&Ui()}return t}function Ui(){Sr=!1;var e=it;rn(!0);const t=Array.from(Mn);try{for(const n of t)(n.f&Y)!==0&&H(n,Ie),Yt(n)&&Bt(n)}finally{rn(e)}Mn.clear()}function Lt(e){T(e,e.v+1)}function Tr(e,t){var n=e.reactions;if(n!==null)for(var r=jt(),i=n.length,s=0;s<i;s++){var l=n[s],a=l.f;if(!(!r&&l===C)){var o=(a&re)===0;if(o&&H(l,t),(a&z)!==0){var f=l;P==null||P.delete(f),(a&lt)===0&&(a&we&&(l.f|=lt),Tr(f,Ie))}else o&&((a&Fe)!==0&&ge!==null&&ge.add(l),at(l))}}}function Te(e){if(typeof e!="object"||e===null||_t in e)return e;const t=Bn(e);if(t!==ri&&t!==ii)return e;var n=new Map,r=cr(e),i=N(0),s=st,l=a=>{if(st===s)return a();var o=x,f=st;te(null),rr(s);var c=a();return te(o),rr(f),c};return r&&n.set("length",N(e.length)),new Proxy(e,{defineProperty(a,o,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&di();var c=n.get(o);return c===void 0?c=l(()=>{var d=N(f.value);return n.set(o,d),d}):T(c,f.value,!0),!0},deleteProperty(a,o){var f=n.get(o);if(f===void 0){if(o in a){const c=l(()=>N(V));n.set(o,c),Lt(i)}}else T(f,V),Lt(i);return!0},get(a,o,f){var p;if(o===_t)return e;var c=n.get(o),d=o in a;if(c===void 0&&(!d||(p=Mt(a,o))!=null&&p.writable)&&(c=l(()=>{var v=Te(d?a[o]:V),g=N(v);return g}),n.set(o,c)),c!==void 0){var h=_(c);return h===V?void 0:h}return Reflect.get(a,o,f)},getOwnPropertyDescriptor(a,o){var f=Reflect.getOwnPropertyDescriptor(a,o);if(f&&"value"in f){var c=n.get(o);c&&(f.value=_(c))}else if(f===void 0){var d=n.get(o),h=d==null?void 0:d.v;if(d!==void 0&&h!==V)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return f},has(a,o){var h;if(o===_t)return!0;var f=n.get(o),c=f!==void 0&&f.v!==V||Reflect.has(a,o);if(f!==void 0||C!==null&&(!c||(h=Mt(a,o))!=null&&h.writable)){f===void 0&&(f=l(()=>{var p=c?Te(a[o]):V,v=N(p);return v}),n.set(o,f));var d=_(f);if(d===V)return!1}return c},set(a,o,f,c){var y;var d=n.get(o),h=o in a;if(r&&o==="length")for(var p=f;p<d.v;p+=1){var v=n.get(p+"");v!==void 0?T(v,V):p in a&&(v=l(()=>N(V)),n.set(p+"",v))}if(d===void 0)(!h||(y=Mt(a,o))!=null&&y.writable)&&(d=l(()=>N(void 0)),T(d,Te(f)),n.set(o,d));else{h=d.v!==V;var g=l(()=>Te(f));T(d,g)}var I=Reflect.getOwnPropertyDescriptor(a,o);if(I!=null&&I.set&&I.set.call(c,f),!h){if(r&&typeof o=="string"){var S=n.get("length"),M=Number(o);Number.isInteger(M)&&M>=S.v&&T(S,M+1)}Lt(i)}return!0},ownKeys(a){_(i);var o=Reflect.ownKeys(a).filter(d=>{var h=n.get(d);return h===void 0||h.v!==V});for(var[f,c]of n)c.v!==V&&!(f in a)&&o.push(f);return o},setPrototypeOf(){vi()}})}var Jn,Rr,Ir,Or;function Wi(){if(Jn===void 0){Jn=window,Rr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Ir=Mt(t,"firstChild").get,Or=Mt(t,"nextSibling").get,Gn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Gn(n)&&(n.__t=void 0)}}function ot(e=""){return document.createTextNode(e)}function nn(e){return Ir.call(e)}function Vt(e){return Or.call(e)}function O(e,t){return nn(e)}function er(e,t=!1){{var n=nn(e);return n instanceof Comment&&n.data===""?Vt(n):n}}function R(e,t=1,n=!1){let r=e;for(;t--;)r=Vt(r);return r}function $i(e){e.textContent=""}function Mr(){return!1}let tr=!1;function ji(){tr||(tr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function pn(e){var t=x,n=C;te(null),Oe(null);try{return e()}finally{te(t),Oe(n)}}function zi(e,t,n,r=n){e.addEventListener(t,()=>pn(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),ji()}function Dr(e){C===null&&(x===null&&ui(),fi()),Ct&&oi()}function Vi(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Me(e,t,n){var r=C;r!==null&&(r.f&ae)!==0&&(e|=ae);var i={ctx:q,deps:null,nodes:null,f:e|re|we,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Bt(i),i.f|=Wn}catch(a){throw ne(i),a}else t!==null&&at(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&At)===0&&(s=s.first,(e&Fe)!==0&&(e&bt)!==0&&s!==null&&(s.f|=bt)),s!==null&&(s.parent=r,r!==null&&Vi(s,r),x!==null&&(x.f&z)!==0&&(e&ft)===0)){var l=x;(l.effects??(l.effects=[])).push(s)}return i}function Nt(){return x!==null&&!Re}function Lr(e){const t=Me(un,null,!1);return H(t,Y),t.teardown=e,t}function Dn(e){Dr();var t=C.f,n=!x&&(t&Ne)!==0&&(t&Wn)===0;if(n){var r=q;(r.e??(r.e=[])).push(e)}else return Pr(e)}function Pr(e){return Me(Un|pr,e,!1)}function Yi(e){return Dr(),Me(un|pr,e,!0)}function Hi(e){Pe.ensure();const t=Me(ft|At,e,!0);return(n={})=>new Promise(r=>{n.outro?rt(t,()=>{ne(t),r(void 0)}):(ne(t),r(void 0))})}function Xi(e){return Me(Un,e,!1)}function Ki(e){return Me($n|At,e,!0)}function Vn(e,t=0){return Me(un|t,e,!0)}function me(e,t=[],n=[],r=[]){Pi(r,t,n,i=>{Me(un,()=>e(...i.map(_)),!0)})}function Yn(e,t=0){var n=Me(Fe|t,e,!0);return n}function pe(e){return Me(Ne|At,e,!0)}function Fr(e){var t=e.teardown;if(t!==null){const n=Ct,r=x;nr(!0),te(null);try{t.call(null)}finally{nr(n),te(r)}}}function Nr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&pn(()=>{i.abort(pt)});var r=n.next;(n.f&ft)!==0?n.parent=null:ne(n,t),n=r}}function Gi(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Ne)===0&&ne(t),t=n}}function ne(e,t=!0){var n=!1;(t||(e.f&hr)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Qi(e.nodes.start,e.nodes.end),n=!0),Nr(e,t&&!n),sn(e,0),H(e,Ve);var r=e.nodes&&e.nodes.t;if(r!==null)for(const s of r)s.stop();Fr(e);var i=e.parent;i!==null&&i.first!==null&&qr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Qi(e,t){for(;e!==null;){var n=e===t?null:Vt(e);e.remove(),e=n}}function qr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function rt(e,t,n=!0){var r=[];Br(e,r,!0);var i=()=>{n&&ne(e),t&&t()},s=r.length;if(s>0){var l=()=>--s||i();for(var a of r)a.out(l)}else i()}function Br(e,t,n){if((e.f&ae)===0){e.f^=ae;var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)(a.is_global||n)&&t.push(a);for(var i=e.first;i!==null;){var s=i.next,l=(i.f&bt)!==0||(i.f&Ne)!==0&&(e.f&Fe)!==0;Br(i,t,l?n:!1),i=s}}}function Hn(e){Ur(e,!0)}function Ur(e,t){if((e.f&ae)!==0){e.f^=ae,(e.f&Y)===0&&(H(e,re),at(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&bt)!==0||(n.f&Ne)!==0;Ur(n,i?t:!1),n=r}var s=e.nodes&&e.nodes.t;if(s!==null)for(const l of s)(l.is_global||t)&&l.in()}}function Wr(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:Vt(n);t.append(n),n=i}}let it=!1;function rn(e){it=e}let Ct=!1;function nr(e){Ct=e}let x=null,Re=!1;function te(e){x=e}let C=null;function Oe(e){C=e}let Q=null;function $r(e){x!==null&&(Q===null?Q=[e]:Q.push(e))}let G=null,se=0,ue=null;function Zi(e){ue=e}let jr=1,qt=0,st=qt;function rr(e){st=e}function zr(){return++jr}function Yt(e){var t=e.f;if((t&re)!==0)return!0;if(t&z&&(e.f&=~lt),(t&Ie)!==0){var n=e.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i];if(Yt(s)&&Cr(s),s.wv>e.wv)return!0}(t&we)!==0&&P===null&&H(e,Y)}return!1}function Vr(e,t,n=!0){var r=e.reactions;if(r!==null&&!(Q!=null&&Q.includes(e)))for(var i=0;i<r.length;i++){var s=r[i];(s.f&z)!==0?Vr(s,t,!1):t===s&&(n?H(s,re):(s.f&Y)!==0&&H(s,Ie),at(s))}}function Yr(e){var v;var t=G,n=se,r=ue,i=x,s=Q,l=q,a=Re,o=st,f=e.f;G=null,se=0,ue=null,x=(f&(Ne|ft))===0?e:null,Q=null,Et(e.ctx),Re=!1,st=++qt,e.ac!==null&&(pn(()=>{e.ac.abort(pt)}),e.ac=null);try{e.f|=Cn;var c=e.fn,d=c(),h=e.deps;if(G!==null){var p;if(sn(e,se),h!==null&&se>0)for(h.length=se+G.length,p=0;p<G.length;p++)h[se+p]=G[p];else e.deps=h=G;if(Nt()&&(e.f&we)!==0)for(p=se;p<h.length;p++)((v=h[p]).reactions??(v.reactions=[])).push(e)}else h!==null&&se<h.length&&(sn(e,se),h.length=se);if(jt()&&ue!==null&&!Re&&h!==null&&(e.f&(z|Ie|re))===0)for(p=0;p<ue.length;p++)Vr(ue[p],e);return i!==null&&i!==e&&(qt++,ue!==null&&(r===null?r=ue:r.push(...ue))),(e.f&Ye)!==0&&(e.f^=Ye),d}catch(g){return mr(g)}finally{e.f^=Cn,G=t,se=n,ue=r,x=i,Q=s,Et(l),Re=a,st=o}}function Ji(e,t){let n=t.reactions;if(n!==null){var r=ti.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&z)!==0&&(G===null||!G.includes(t))&&(H(t,Ie),(t.f&we)!==0&&(t.f^=we,t.f&=~lt),Ar(t),sn(t,0))}function sn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Ji(e,n[r])}function Bt(e){var t=e.f;if((t&Ve)===0){H(e,Y);var n=C,r=it;C=e,it=!0;try{(t&(Fe|li))!==0?Gi(e):Nr(e),Fr(e);var i=Yr(e);e.teardown=typeof i=="function"?i:null,e.wv=jr;var s;kn&&ki&&(e.f&re)!==0&&e.deps}finally{it=r,C=n}}}async function es(){await Promise.resolve(),Si()}function _(e){var t=e.f,n=(t&z)!==0;if(x!==null&&!Re){var r=C!==null&&(C.f&Ve)!==0;if(!r&&!(Q!=null&&Q.includes(e))){var i=x.deps;if((x.f&Cn)!==0)e.rv<qt&&(e.rv=qt,G===null&&i!==null&&i[se]===e?se++:G===null?G=[e]:G.includes(e)||G.push(e));else{(x.deps??(x.deps=[])).push(e);var s=e.reactions;s===null?e.reactions=[x]:s.includes(x)||s.push(x)}}}if(Ct){if(He.has(e))return He.get(e);if(n){var l=e,a=l.v;return((l.f&Y)===0&&l.reactions!==null||Xr(l))&&(a=zn(l)),He.set(l,a),a}}else n&&(!(P!=null&&P.has(e))||E!=null&&E.is_fork&&!Nt())&&(l=e,Yt(l)&&Cr(l),it&&Nt()&&(l.f&we)===0&&Hr(l));if(P!=null&&P.has(e))return P.get(e);if((e.f&Ye)!==0)throw e.v;return e.v}function Hr(e){if(e.deps!==null){e.f^=we;for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&z)!==0&&(t.f&we)===0&&Hr(t)}}function Xr(e){if(e.v===V)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(He.has(t)||(t.f&z)!==0&&Xr(t))return!0;return!1}function _n(e){var t=Re;try{return Re=!0,e()}finally{Re=t}}const ts=-7169;function H(e,t){e.f=e.f&ts|t}function ns(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(_t in e)Ln(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&_t in n&&Ln(n)}}}function Ln(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Ln(e[r],t)}catch{}const n=Bn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=dr(n);for(let i in r){const s=r[i].get;if(s)try{s.call(e)}catch{}}}}}const rs=["touchstart","touchmove"];function is(e){return rs.includes(e)}const Kr=new Set,Pn=new Set;function ss(e,t,n,r={}){function i(s){if(r.capture||Rt.call(t,s),!s.cancelBubble)return pn(()=>n==null?void 0:n.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?zt(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function Xt(e,t,n,r,i){var s={capture:r,passive:i},l=ss(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Lr(()=>{t.removeEventListener(e,l,s)})}function Gr(e){for(var t=0;t<e.length;t++)Kr.add(e[t]);for(var n of Pn)n(e)}let ir=null;function Rt(e){var I;var t=this,n=t.ownerDocument,r=e.type,i=((I=e.composedPath)==null?void 0:I.call(e))||[],s=i[0]||e.target;ir=e;var l=0,a=ir===e&&e.__root;if(a){var o=i.indexOf(a);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var f=i.indexOf(t);if(f===-1)return;o<=f&&(l=o)}if(s=i[l]||e.target,s!==t){ni(e,"currentTarget",{configurable:!0,get(){return s||n}});var c=x,d=C;te(null),Oe(null);try{for(var h,p=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+r];g!=null&&(!s.disabled||e.target===s)&&g.call(s,e)}catch(S){h?p.push(S):h=S}if(e.cancelBubble||v===t||v===null)break;s=v}if(h){for(let S of p)queueMicrotask(()=>{throw S});throw h}}finally{e.__root=t,delete e.currentTarget,te(c),Oe(d)}}}function ls(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Fn(e,t){var n=C;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function U(e,t){var n=(t&mi)!==0,r=(t&wi)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=ls(s?e:"<!>"+e),n||(i=nn(i)));var l=r||Rr?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=nn(l),o=l.lastChild;Fn(a,o)}else Fn(l,l);return l}}function as(){var e=document.createDocumentFragment(),t=document.createComment(""),n=ot();return e.append(t,n),Fn(t,n),e}function F(e,t){e!==null&&e.before(t)}function Zt(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=n,e.nodeValue=n+"")}function os(e,t){return fs(e,t)}const vt=new Map;function fs(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:l=!0}){Wi();var a=new Set,o=d=>{for(var h=0;h<d.length;h++){var p=d[h];if(!a.has(p)){a.add(p);var v=is(p);t.addEventListener(p,Rt,{passive:v});var g=vt.get(p);g===void 0?(document.addEventListener(p,Rt,{passive:v}),vt.set(p,1)):vt.set(p,g+1)}}};o(fn(Kr)),Pn.add(o);var f=void 0,c=Hi(()=>{var d=n??t.appendChild(ot());return Oi(d,{pending:()=>{}},h=>{if(s){ut({});var p=q;p.c=s}i&&(r.$$events=i),f=e(h,r)||{},s&&ct()}),()=>{var v;for(var h of a){t.removeEventListener(h,Rt);var p=vt.get(h);--p===0?(document.removeEventListener(h,Rt),vt.delete(h)):vt.set(h,p)}Pn.delete(o),d!==n&&((v=d.parentNode)==null||v.removeChild(d))}});return us.set(f,c),f}let us=new WeakMap;var ye,Ce,le,nt,Wt,$t,on;class cs{constructor(t,n=!0){Ee(this,"anchor");k(this,ye,new Map);k(this,Ce,new Map);k(this,le,new Map);k(this,nt,new Set);k(this,Wt,!0);k(this,$t,()=>{var t=E;if(u(this,ye).has(t)){var n=u(this,ye).get(t),r=u(this,Ce).get(n);if(r)Hn(r),u(this,nt).delete(n);else{var i=u(this,le).get(n);i&&(u(this,Ce).set(n,i.effect),u(this,le).delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,l]of u(this,ye)){if(u(this,ye).delete(s),s===t)break;const a=u(this,le).get(l);a&&(ne(a.effect),u(this,le).delete(l))}for(const[s,l]of u(this,Ce)){if(s===n||u(this,nt).has(s))continue;const a=()=>{if(Array.from(u(this,ye).values()).includes(s)){var f=document.createDocumentFragment();Wr(l,f),f.append(ot()),u(this,le).set(s,{effect:l,fragment:f})}else ne(l);u(this,nt).delete(s),u(this,Ce).delete(s)};u(this,Wt)||!r?(u(this,nt).add(s),rt(l,a,!1)):a()}}});k(this,on,t=>{u(this,ye).delete(t);const n=Array.from(u(this,ye).values());for(const[r,i]of u(this,le))n.includes(r)||(ne(i.effect),u(this,le).delete(r))});this.anchor=t,w(this,Wt,n)}ensure(t,n){var r=E,i=Mr();if(n&&!u(this,Ce).has(t)&&!u(this,le).has(t))if(i){var s=document.createDocumentFragment(),l=ot();s.append(l),u(this,le).set(t,{effect:pe(()=>n(l)),fragment:s})}else u(this,Ce).set(t,pe(()=>n(this.anchor)));if(u(this,ye).set(r,t),i){for(const[a,o]of u(this,Ce))a===t?r.skipped_effects.delete(o):r.skipped_effects.add(o);for(const[a,o]of u(this,le))a===t?r.skipped_effects.delete(o.effect):r.skipped_effects.add(o.effect);r.oncommit(u(this,$t)),r.ondiscard(u(this,on))}else u(this,$t).call(this)}}ye=new WeakMap,Ce=new WeakMap,le=new WeakMap,nt=new WeakMap,Wt=new WeakMap,$t=new WeakMap,on=new WeakMap;function Le(e,t,n=!1){var r=new cs(e),i=n?bt:0;function s(l,a){r.ensure(l,a)}Yn(()=>{var l=!1;t((a,o=!0)=>{l=!0,s(o,a)}),l||s(!1,null)},i)}function ds(e,t){return t}function vs(e,t,n){for(var r=[],i=t.length,s,l=t.length,a=0;a<i;a++){let d=t[a];rt(d,()=>{if(s){if(s.pending.delete(d),s.done.add(d),s.pending.size===0){var h=e.outrogroups;Nn(fn(s.done)),h.delete(s),h.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var o=r.length===0&&n!==null;if(o){var f=n,c=f.parentNode;$i(c),c.append(f),e.items.clear()}Nn(t,!o)}else s={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(s)}function Nn(e,t=!0){for(var n=0;n<e.length;n++)ne(e[n],t)}var sr;function hs(e,t,n,r,i,s=null){var l=e,a=new Map,o=null,f=jn(()=>{var g=n();return cr(g)?g:g==null?[]:fn(g)}),c,d=!0;function h(){v.fallback=o,ps(v,c,l,t,r),o!==null&&(c.length===0?(o.f&ze)===0?Hn(o):(o.f^=ze,It(o,null,l)):rt(o,()=>{o=null}))}var p=Yn(()=>{c=_(f);for(var g=c.length,I=new Set,S=E,M=Mr(),y=0;y<g;y+=1){var m=c[y],Z=r(m,y),X=d?null:a.get(Z);X?(X.v&&kt(X.v,m),X.i&&kt(X.i,y),M&&S.skipped_effects.delete(X.e)):(X=_s(a,d?l:sr??(sr=ot()),m,Z,y,i,t,n),d||(X.e.f|=ze),a.set(Z,X)),I.add(Z)}if(g===0&&s&&!o&&(d?o=pe(()=>s(l)):(o=pe(()=>s(sr??(sr=ot()))),o.f|=ze)),!d)if(M){for(const[dt,ie]of a)I.has(dt)||S.skipped_effects.add(ie.e);S.oncommit(h),S.ondiscard(()=>{})}else h();_(f)}),v={effect:p,items:a,outrogroups:null,fallback:o};d=!1}function ps(e,t,n,r,i){var ie;var s=t.length,l=e.items,a=e.effect.first,o,f=null,c=[],d=[],h,p,v,g;for(g=0;g<s;g+=1){if(h=t[g],p=i(h,g),v=l.get(p).e,e.outrogroups!==null)for(const b of e.outrogroups)b.pending.delete(v),b.done.delete(v);if((v.f&ze)!==0)if(v.f^=ze,v===a)It(v,null,n);else{var I=f?f.next:a;v===e.effect.last&&(e.effect.last=v.prev),v.prev&&(v.prev.next=v.next),v.next&&(v.next.prev=v.prev),qe(e,f,v),qe(e,v,I),It(v,I,n),f=v,c=[],d=[],a=f.next;continue}if((v.f&ae)!==0&&Hn(v),v!==a){if(o!==void 0&&o.has(v)){if(c.length<d.length){var S=d[0],M;f=S.prev;var y=c[0],m=c[c.length-1];for(M=0;M<c.length;M+=1)It(c[M],S,n);for(M=0;M<d.length;M+=1)o.delete(d[M]);qe(e,y.prev,m.next),qe(e,f,y),qe(e,m,S),a=S,f=m,g-=1,c=[],d=[]}else o.delete(v),It(v,a,n),qe(e,v.prev,v.next),qe(e,v,f===null?e.effect.first:f.next),qe(e,f,v),f=v;continue}for(c=[],d=[];a!==null&&a!==v;)(o??(o=new Set)).add(a),d.push(a),a=a.next;if(a===null)continue}(v.f&ze)===0&&c.push(v),f=v,a=v.next}if(e.outrogroups!==null){for(const b of e.outrogroups)b.pending.size===0&&(Nn(fn(b.done)),(ie=e.outrogroups)==null||ie.delete(b));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||o!==void 0){var Z=[];if(o!==void 0)for(v of o)(v.f&ae)===0&&Z.push(v);for(;a!==null;)(a.f&ae)===0&&a!==e.fallback&&Z.push(a),a=a.next;var X=Z.length;if(X>0){var dt=null;vs(e,Z,dt)}}}function _s(e,t,n,r,i,s,l,a){var o=(l&_i)!==0?(l&yi)===0?Bi(n,!1,!1):Xe(n):null,f=(l&gi)!==0?Xe(i):null;return{v:o,i:f,e:pe(()=>(s(t,o??n,f??i,a),()=>{e.delete(r)}))}}function It(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,s=t&&(t.f&ze)===0?t.nodes.start:n;r!==null;){var l=Vt(r);if(s.before(r),r===i)return;r=l}}function qe(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function gs(e,t){return e==null?null:String(e)}function Se(e,t,n,r){var i=e.__style;if(i!==t){var s=gs(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}const ys=Symbol("is custom element"),ms=Symbol("is html");function Ue(e,t,n,r){var i=ws(e);i[t]!==(i[t]=n)&&(n==null?e.removeAttribute(t):typeof n!="string"&&bs(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ws(e){return e.__attributes??(e.__attributes={[ys]:e.nodeName.includes("-"),[ms]:e.namespaceURI===bi})}var lr=new Map;function bs(e){var t=e.getAttribute("is")||e.nodeName,n=lr.get(t);if(n)return n;lr.set(t,n=[]);for(var r,i=e,s=Element.prototype;s!==i;){r=dr(i);for(var l in r)r[l].set&&n.push(l);i=Bn(i)}return n}function Jt(e,t,n=t){var r=new WeakSet;zi(e,"input",async i=>{var s=i?e.defaultValue:e.value;if(s=mn(e)?wn(s):s,n(s),E!==null&&r.add(E),await es(),s!==(s=t())){var l=e.selectionStart,a=e.selectionEnd,o=e.value.length;if(e.value=s??"",a!==null){var f=e.value.length;l===a&&a===o&&f>o?(e.selectionStart=f,e.selectionEnd=f):(e.selectionStart=l,e.selectionEnd=Math.min(a,f))}}}),_n(t)==null&&e.value&&(n(mn(e)?wn(e.value):e.value),E!==null&&r.add(E)),Vn(()=>{var i=t();if(e===document.activeElement){var s=Kt??E;if(r.has(s))return}mn(e)&&i===wn(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function mn(e){var t=e.type;return t==="number"||t==="range"}function wn(e){return e===""?null:+e}function ar(e,t){return e===t||(e==null?void 0:e[_t])===t}function Es(e={},t,n,r){return Xi(()=>{var i,s;return Vn(()=>{i=s,s=[],_n(()=>{e!==n(...s)&&(t(e,...s),i&&ar(n(...i),e)&&t(null,...i))})}),()=>{zt(()=>{s&&ar(n(...s),e)&&t(null,...s)})}}),e}function Xn(e=!1){const t=q,n=t.l.u;if(!n)return;let r=()=>ns(t.s);if(e){let i=0,s={};const l=hn(()=>{let a=!1;const o=t.s;for(const f in o)o[f]!==s[f]&&(s[f]=o[f],a=!0);return a&&i++,i});r=()=>_(l)}n.b.length&&Yi(()=>{or(t,r),An(n.b)}),Dn(()=>{const i=_n(()=>n.m.map(si));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&Dn(()=>{or(t,r),An(n.a)})}function or(e,t){if(e.l.s)for(const n of e.l.s)_(n);t()}function Qr(e){var t=Xe(0);return function(){return arguments.length===1?(T(t,_(t)+1),arguments[0]):(_(t),e())}}const xs="5";var ur;typeof window<"u"&&((ur=window.__svelte??(window.__svelte={})).v??(ur.v=new Set)).add(xs);let $;function ks(e,t){return e=e>>>0,Ss(e,t)}let Ot=null;function Pt(){return(Ot===null||Ot.byteLength===0)&&(Ot=new Uint8Array($.memory.buffer)),Ot}function As(e,t){const n=t(e.length*1,1)>>>0;return Pt().set(e,n/1),Ge=e.length,n}function bn(e,t,n){if(n===void 0){const a=Ft.encode(e),o=t(a.length,1)>>>0;return Pt().subarray(o,o+a.length).set(a),Ge=a.length,o}let r=e.length,i=t(r,1)>>>0;const s=Pt();let l=0;for(;l<r;l++){const a=e.charCodeAt(l);if(a>127)break;s[i+l]=a}if(l!==r){l!==0&&(e=e.slice(l)),i=n(i,r,r=l+e.length*3,1)>>>0;const a=Pt().subarray(i+l,i+r),o=Ft.encodeInto(e,a);l+=o.written,i=n(i,r,l,1)>>>0}return Ge=l,i}function fr(e){const t=$.__wbindgen_externrefs.get(e);return $.__externref_table_dealloc(e),t}let en=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});en.decode();const Cs=2146435072;let En=0;function Ss(e,t){return En+=t,En>=Cs&&(en=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),en.decode(),En=t),en.decode(Pt().subarray(e,e+t))}const Ft=new TextEncoder;"encodeInto"in Ft||(Ft.encodeInto=function(e,t){const n=Ft.encode(e);return t.set(n),{read:e.length,written:n.length}});let Ge=0;function Ts(e,t,n,r,i,s,l){const a=As(e,$.__wbindgen_malloc),o=Ge,f=bn(r,$.__wbindgen_malloc,$.__wbindgen_realloc),c=Ge,d=bn(i,$.__wbindgen_malloc,$.__wbindgen_realloc),h=Ge,p=bn(s,$.__wbindgen_malloc,$.__wbindgen_realloc),v=Ge,g=$.process_image(a,o,t,n,f,c,d,h,p,v,l);if(g[2])throw fr(g[1]);return fr(g[0])}const Rs=new Set(["basic","cors","default"]);async function Is(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.ok&&Rs.has(e.type)&&e.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function Os(){const e={};return e.wbg={},e.wbg.__wbg___wbindgen_throw_dd24417ed36fc46e=function(t,n){throw new Error(ks(t,n))},e.wbg.__wbg_new_25f239778d6112b9=function(){return new Array},e.wbg.__wbg_set_7df433eea03a5c14=function(t,n,r){t[n>>>0]=r},e.wbg.__wbindgen_cast_d6cd19b81560fd6e=function(t){return t},e.wbg.__wbindgen_init_externref_table=function(){const t=$.__wbindgen_externrefs,n=t.grow(4);t.set(0,void 0),t.set(n+0,void 0),t.set(n+1,null),t.set(n+2,!0),t.set(n+3,!1)},e}function Ms(e,t){return $=e.exports,Zr.__wbindgen_wasm_module=t,Ot=null,$.__wbindgen_start(),$}async function Zr(e){if($!==void 0)return $;typeof e<"u"&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof e>"u"&&(e=new URL("/assets/screen_print_simulator_core_bg-0IA8oIUo.wasm",import.meta.url));const t=Os();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await Is(await e,t);return Ms(n,r)}Ai();const A=Te({layerVisibility:{raster:0,colorA:0,colorB:0,colorC:0,white:0},layers:{raster:null,colorA:null,colorB:null,colorC:null,white:null},palette:{colorA:"#ff0000",colorB:"#00ff00",colorC:"#0000ff"},halftone:{dotSize:12,angle:45,threshold:.1},croppedImage:null});var Be=Qr(()=>A),Ds=U('<div class="scraper-row svelte-4kj4nh"><div class="layer-info svelte-4kj4nh"><span class="color-dot svelte-4kj4nh"></span> <span class="layer-label svelte-4kj4nh"> </span> <span class="z-index svelte-4kj4nh"> </span></div> <input type="range" min="0" max="100" class="svelte-4kj4nh"/> <span class="value svelte-4kj4nh"> </span></div>'),Ls=U('<div class="scrapers-panel svelte-4kj4nh"><h3 class="svelte-4kj4nh">Layer Scrapers</h3> <!></div>');function Ps(e,t){ut(t,!1);const n=[{key:"white",label:"White Base",z:10,color:"#ffffff"},{key:"colorC",label:"Color C",z:20,color:null},{key:"colorB",label:"Color B",z:30,color:null},{key:"colorA",label:"Color A",z:40,color:null},{key:"raster",label:"Raster (Shadows)",z:50,color:"#000000"}];function r(l){return l==="colorA"?Be().palette.colorA:l==="colorB"?Be().palette.colorB:l==="colorC"?Be().palette.colorC:null}Xn();var i=Ls(),s=R(O(i),2);hs(s,1,()=>n,ds,(l,a)=>{const o=jn(()=>r(_(a).key));var f=Ds(),c=O(f),d=O(c),h=R(d,2),p=O(h),v=R(h,2),g=O(v),I=R(c,2),S=R(I,2),M=O(S);me(()=>{Se(d,`background: ${(_(o)||_(a).color)??""}`),Zt(p,_(a).label),Zt(g,`z${_(a).z??""}`),I.disabled=!Be().layers[_(a).key],Zt(M,`${Be().layerVisibility[_(a).key]??""}%`)}),Jt(I,()=>Be().layerVisibility[_(a).key],y=>Be(Be().layerVisibility[_(a).key]=y)),F(l,f)}),F(e,i),ct()}var Fs=U('<img class="layer svelte-vqmupp" alt="White base layer"/>'),Ns=U('<img class="layer svelte-vqmupp" alt="Color C layer"/>'),qs=U('<img class="layer svelte-vqmupp" alt="Color B layer"/>'),Bs=U('<img class="layer svelte-vqmupp" alt="Color A layer"/>'),Us=U('<img class="layer svelte-vqmupp" alt="Raster shadow layer"/>'),Ws=U('<div class="canvas-wrapper svelte-vqmupp"><h3 class="svelte-vqmupp">Print</h3> <div class="print-container svelte-vqmupp"><div class="substrate svelte-vqmupp"></div> <!> <!> <!> <!> <!></div></div>');function $s(e,t){ut(t,!0);const n=ht(()=>A.layerVisibility.white/100),r=ht(()=>A.layerVisibility.colorC/100),i=ht(()=>A.layerVisibility.colorB/100),s=ht(()=>A.layerVisibility.colorA/100),l=ht(()=>A.layerVisibility.raster/100);var a=Ws(),o=R(O(a),2),f=R(O(o),2);{var c=y=>{var m=Fs();me(()=>{Ue(m,"src",A.layers.white),Se(m,`z-index: 10; opacity: ${_(n)??""};`)}),F(y,m)};Le(f,y=>{A.layers.white&&y(c)})}var d=R(f,2);{var h=y=>{var m=Ns();me(()=>{Ue(m,"src",A.layers.colorC),Se(m,`z-index: 20; opacity: ${_(r)??""};`)}),F(y,m)};Le(d,y=>{A.layers.colorC&&y(h)})}var p=R(d,2);{var v=y=>{var m=qs();me(()=>{Ue(m,"src",A.layers.colorB),Se(m,`z-index: 30; opacity: ${_(i)??""};`)}),F(y,m)};Le(p,y=>{A.layers.colorB&&y(v)})}var g=R(p,2);{var I=y=>{var m=Bs();me(()=>{Ue(m,"src",A.layers.colorA),Se(m,`z-index: 40; opacity: ${_(s)??""};`)}),F(y,m)};Le(g,y=>{A.layers.colorA&&y(I)})}var S=R(g,2);{var M=y=>{var m=Us();me(()=>{Ue(m,"src",A.layers.raster),Se(m,`z-index: 50; opacity: ${_(l)??""};`)}),F(y,m)};Le(S,y=>{A.layers.raster&&y(M)})}F(e,a),ct()}var fe=Qr(()=>A),js=U('<div class="color-pickers svelte-1xy5bpt"><h3 class="svelte-1xy5bpt">Ink Palette</h3> <div class="picker-row svelte-1xy5bpt"><label for="colorA" class="svelte-1xy5bpt"><span class="swatch svelte-1xy5bpt"></span> InkLayerA</label> <input type="color" id="colorA" class="svelte-1xy5bpt"/></div> <div class="picker-row svelte-1xy5bpt"><label for="colorB" class="svelte-1xy5bpt"><span class="swatch svelte-1xy5bpt"></span> InkLayerB</label> <input type="color" id="colorB" class="svelte-1xy5bpt"/></div> <div class="picker-row svelte-1xy5bpt"><label for="colorC" class="svelte-1xy5bpt"><span class="swatch svelte-1xy5bpt"></span> InkLayerC</label> <input type="color" id="colorC" class="svelte-1xy5bpt"/></div></div>');function zs(e,t){ut(t,!1),Xn();var n=js(),r=R(O(n),2),i=O(r),s=O(i),l=R(i,2),a=R(r,2),o=O(a),f=O(o),c=R(o,2),d=R(a,2),h=O(d),p=O(h),v=R(h,2);me(()=>{Se(s,`background: ${fe().palette.colorA??""}`),Se(f,`background: ${fe().palette.colorB??""}`),Se(p,`background: ${fe().palette.colorC??""}`)}),Jt(l,()=>fe().palette.colorA,g=>fe(fe().palette.colorA=g)),Jt(c,()=>fe().palette.colorB,g=>fe(fe().palette.colorB=g)),Jt(v,()=>fe().palette.colorC,g=>fe(fe().palette.colorC=g)),F(e,n),ct()}const _e={width:288,height:384},St={width:768,height:1024};function Vs(e,t){const n=t/e.naturalHeight,r=Math.round(e.naturalWidth*n);let i=document.createElement("canvas"),s=i.getContext("2d");i.width=e.naturalWidth,i.height=e.naturalHeight,s.drawImage(e,0,0);let l=e.naturalWidth,a=e.naturalHeight;for(;l<r||a<t;){const o=Math.min(1.5,r/l,t/a),f=Math.round(l*o),c=Math.round(a*o),d=document.createElement("canvas");d.width=f,d.height=c;const h=d.getContext("2d");h.imageSmoothingEnabled=!0,h.imageSmoothingQuality="high",h.drawImage(i,0,0,f,c),i=d,l=f,a=c}return i.toDataURL("image/png")}function xn(e,t,n,r){let i,s;if(n>_e.width){const l=_e.width-n;i=Math.max(l,Math.min(0,e))}else i=(_e.width-n)/2;if(r>_e.height){const l=_e.height-r;s=Math.max(l,Math.min(0,t))}else s=(_e.height-r)/2;return{x:i,y:s}}function Ys(e,t,n){return new Promise((r,i)=>{const s=new Image;s.onload=()=>{const l=document.createElement("canvas");l.width=St.width,l.height=St.height;const a=l.getContext("2d"),o=n.height/_e.height,f=-t.x*o,c=-t.y*o,h=St.height/_e.height/o,p=n.width*h,v=n.height*h,g=-f*h,I=-c*h;a.fillStyle="#000",a.fillRect(0,0,St.width,St.height),a.drawImage(s,g,I,p,v),l.toBlob(S=>{S?r(S):i(new Error("Failed to generate blob"))},"image/png")},s.onerror=()=>i(new Error("Failed to load image")),s.src=e})}var Hs=U('<img alt="Source" class="draggable-image svelte-1ld2tqd" draggable="false"/> <button class="apply-btn svelte-1ld2tqd">Apply Crop</button>',1),Xs=U('<img alt="Source" class="draggable-image hidden svelte-1ld2tqd" draggable="false"/>'),Ks=U('<div class="upload-prompt svelte-1ld2tqd" role="button" tabindex="0"><span>Drop image or click to upload</span></div>'),Gs=U('<div class="image-prep-wrapper svelte-1ld2tqd"><h3 class="svelte-1ld2tqd">Image Prep</h3> <div class="prep-frame svelte-1ld2tqd" role="button" tabindex="0"><!></div> <input type="file" accept="image/*" style="display: none;"/></div>');function Qs(e,t){ut(t,!0);let n=N(null),r=N(null),i=N(Te({x:0,y:0})),s=N(1),l=N(Te({width:0,height:0})),a=N(Te({width:0,height:0})),o=N(!1),f=N(Te({x:0,y:0,imgX:0,imgY:0})),c;function d(b){var W,K,be;const L=((W=b.target.files)==null?void 0:W[0])||((be=(K=b.dataTransfer)==null?void 0:K.files)==null?void 0:be[0]);!L||!L.type.startsWith("image/")||(_(n)&&URL.revokeObjectURL(_(n)),_(r)&&_(r)!==_(n)&&URL.revokeObjectURL(_(r)),T(n,URL.createObjectURL(L),!0),T(r,null),T(i,{x:0,y:0},!0),T(s,1))}function h(b){const L=b.target,W=L.naturalHeight,K=L.naturalWidth;T(a,{width:K,height:W},!0);const be=_e.height/W;if(be>1){const oe=Vs(L,_e.height);T(r,oe,!0),T(s,1);const J=Math.round(K*be);T(l,{width:J,height:_e.height},!0);const gn=_e.height;T(i,xn(0,0,J,gn),!0)}else{T(r,_(n),!0),T(s,be),T(l,{width:K,height:W},!0);const oe=K*_(s),J=W*_(s);T(i,xn(0,0,oe,J),!0)}}function p(b){_(n)&&(b.preventDefault(),T(o,!0),T(f,{x:b.clientX,y:b.clientY,imgX:_(i).x,imgY:_(i).y},!0))}function v(b){if(!_(o))return;const L=b.clientX-_(f).x,W=b.clientY-_(f).y,K=_(f).imgX+L,be=_(f).imgY+W,oe=_(l).width*_(s),J=_(l).height*_(s);T(i,xn(K,be,oe,J),!0)}function g(){T(o,!1)}async function I(){if(_(n))try{const b=await Ys(_(n),_(i),_(a));A.croppedImage&&URL.revokeObjectURL(A.croppedImage),A.croppedImage=URL.createObjectURL(b)}catch(b){console.error("Crop failed:",b)}}function S(b){b.preventDefault(),d(b)}function M(b){b.preventDefault()}var y=Gs(),m=R(O(y),2);m.__mousedown=p,m.__mousemove=v,m.__mouseup=g;var Z=O(m);{var X=b=>{var L=Hs(),W=er(L),K=R(W,2);K.__click=I,me(()=>{Ue(W,"src",_(r)),Se(W,`transform: translate(${_(i).x??""}px, ${_(i).y??""}px) scale(${_(s)??""}); cursor: ${_(o)?"grabbing":"grab"};`)}),F(b,L)},dt=b=>{var L=as(),W=er(L);{var K=oe=>{var J=Xs();me(()=>Ue(J,"src",_(n))),Xt("load",J,h),F(oe,J)},be=oe=>{var J=Ks();J.__click=()=>c.click(),J.__keydown=gn=>gn.key==="Enter"&&c.click(),F(oe,J)};Le(W,oe=>{_(n)?oe(K):oe(be,!1)},!0)}F(b,L)};Le(Z,b=>{_(r)?b(X):b(dt,!1)})}var ie=R(m,2);ie.__change=d,Es(ie,b=>c=b,()=>c),Xt("drop",m,S),Xt("dragover",m,M),Xt("mouseleave",m,g),F(e,y),ct()}Gr(["mousedown","mousemove","mouseup","click","keydown","change"]);var Zs=U('<div class="preview-frame svelte-1blx5rm"><img alt="Cropped source" class="svelte-1blx5rm"/></div>'),Js=U('<div class="empty-frame svelte-1blx5rm"><span>No image cropped</span></div>'),el=U('<div class="cropped-preview svelte-1blx5rm"><h3 class="svelte-1blx5rm">Cropped Image</h3> <!></div>');function tl(e,t){ut(t,!1),Xn();var n=el(),r=R(O(n),2);{var i=l=>{var a=Zs(),o=O(a);me(()=>Ue(o,"src",A.croppedImage)),F(l,a)},s=l=>{var a=Js();F(l,a)};Le(r,l=>{A.croppedImage?l(i):l(s,!1)})}F(e,n),ct()}var nl=U('<div class="notice svelte-1n46o8q">Loading processing engine...</div>'),rl=U('<main class="svelte-1n46o8q"><h1 class="svelte-1n46o8q">Screen Print Simulator</h1> <!> <div class="grid-layout svelte-1n46o8q"><!> <!> <!> <div class="controls-cell svelte-1n46o8q"><!> <button class="process-btn svelte-1n46o8q"> </button></div> <div class="scrapers-cell svelte-1n46o8q"><!></div></div></main>');function il(e,t){ut(t,!0);let n=N(!1),r=N(!1);Dn(()=>{Zr().then(()=>{T(n,!0)})});async function i(){if(!(!A.croppedImage||!_(n))){T(r,!0);try{const y=new Image;y.src=A.croppedImage,await new Promise(b=>y.onload=b);const m=document.createElement("canvas");m.width=768,m.height=1024;const Z=m.getContext("2d");Z.drawImage(y,0,0,768,1024);const X=Z.getImageData(0,0,768,1024),ie=Ts(X.data,768,1024,A.palette.colorA,A.palette.colorB,A.palette.colorC,A.halftone.dotSize).map(b=>{const L=document.createElement("canvas");L.width=768,L.height=1024;const W=L.getContext("2d"),K=new ImageData(new Uint8ClampedArray(b),768,1024);return W.putImageData(K,0,0),L.toDataURL("image/png")});A.layers={raster:ie[0],colorA:ie[1],colorB:ie[2],colorC:ie[3],white:ie[4]},A.layerVisibility={raster:0,colorA:0,colorB:0,colorC:0,white:0}}catch(y){console.error("Processing failed:",y)}finally{T(r,!1)}}}const s=ht(()=>_(n)&&A.croppedImage&&!_(r));var l=rl();l.__contextmenu=y=>y.preventDefault();var a=R(O(l),2);{var o=y=>{var m=nl();F(y,m)};Le(a,y=>{_(n)||y(o)})}var f=R(a,2),c=O(f);Qs(c,{});var d=R(c,2);tl(d,{});var h=R(d,2);$s(h,{});var p=R(h,2),v=O(p);zs(v,{});var g=R(v,2);g.__click=i;var I=O(g),S=R(p,2),M=O(S);Ps(M,{}),me(()=>{g.disabled=!_(s),Zt(I,_(r)?"Processing...":"Create Print")}),F(e,l),ct()}Gr(["contextmenu","click"]);os(il,{target:document.getElementById("app")});
